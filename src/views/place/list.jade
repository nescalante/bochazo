- var sport = sports.filter(function (s) { return s.url == params.sport }).map(function (s) { return s.name })[0] || params.sport
h2= params && sport ? 'Canchas de ' + sport : params ? 'Búsqueda de canchas' : 'Listado de canchas'

.row
  .col-md-8
    div(class=(count > 0 ? 'alert alert-success' : 'alert alert-danger'))
      p
        strong= count
        = ' complejo' + (count == 1 ? '' : 's') + ' encontrado' + (count == 1 ? '' : 's') + '.'
      if (hasParams)
        p= (count === 0 ? 'Parámetros utilizados para la búsqueda' : 'Mostrando') + ':'
        ul
          if (params.query)
            li
              | Que contengan la palabra&nbsp;
              strong= params.query
          if (sport)
            li
              | Canchas de&nbsp;
              = sport
          if (params.locations && params.locations.length)
            li En&nbsp;
              each location, index in params.locations
                span.capitalize= location
                span= index === params.locations.length - 1 ? '' : index === params.locations.length - 2 ? ' o ' : ', '
          if (params.players && params.players.length)
            li Para&nbsp;
              each player, index in params.players
                span= player + (index == params.players.length - 1 ? '' : index === params.players.length - 2 ? (params.players[index + 1] == 8 ? ' u ' : ' o ') : ', ')
              | &nbsp;jugadores
          li(ng-show='params.surfaces.length') Superficie de
            span.lowercase(ng-repeat='surface in params.surfaces') {{surface}}{{$last ? '' : $index == (params.surfaces.length - 2) ? ' o ' : ', '}}
          li(ng-show='params.tags.length') Con
            label.label(ng-class='{ "label-success": count > 0, "label-danger": count == 0 }' ng-repeat-start='tag in params.tags') {{tag}}
            span(ng-repeat-end='') {{$last ? '' : $index == (params.tags.length - 2) ? ' o ' : ', '}}
      p.new-search
        | Hacé click&nbsp;
        a.alert-link(href=('/busqueda' + (params.url ? '?' + params.url : ''))) acá
        | &nbsp;para realizar una
        = hasParams ? ' nueva búsqueda.' : ' búsqueda avanzada.'
    .alert.alert-info
      p(ng-show='userAddress && count > 0')
        | Los complejos se listarán mostrando primero los más cercanos a
        a.alert-link.hint--top.hint--rounded(href='' data-hint='{{userAddress}}') tú posición
        | .
      p
        | Acordate que también podés buscar tu complejo en el
        a.alert-link.hint--top.hint--rounded(href='' ng-click='redirectTo("/mapa")') mapa de canchas
        | .
    include ./places.jade
    if (count > list.length)
      a.center-block.btn.btn-primary.btn-show-more(style='width: 200px;' ng-click='showMore()' ng-class='{ disabled: loading }' href=('/canchas?' + params.next)) Mostrar más
  .col-md-4
    .alert.alert-info ¿Querés agregar un complejo a nuestra base de datos? Agregalo haciendo click
      a.alert-link(href='/canchas/agregar') acá
      | .
